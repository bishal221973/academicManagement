import{d as y,y as x,q as v,K as h,o as g,e as V,b as a,T as w,c as S,w as f,a as o,i as T,u as n,k as m,v as b}from"./app-91f7f415.js";import{_ as k}from"./AppLayout-971202a1.js";import{_ as N}from"./Student-1c7cde35.js";import{B as D}from"./Breadcrumb-625ba3d5.js";import{T as I}from"./Table-100cf17c.js";import"./Modal-dd194025.js";import{S as U,A as $,c as A,d as B}from"./AddStudent-b7b549a9.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import"./printer-74c671e9.js";import"./ExportPrint-ce2f8d71.js";/* empty css                                                                    *//* empty css                                                              */const C={class:"w-full border-[1px] border-gray-300 rounded-md flex px-3"},M={__name:"SelectStudent",props:{modelValue:[String,Number],sectionId:[String,Number]},emits:["update:modelValue"],setup(c,{emit:p}){const l=c,_=p,i=y([]),u=async(e=null)=>{const r=await axios.get(route("student.all"),{params:{section_id:e||""}});i.value=r.data.students};x(()=>{u(),Pusher.logToConsole=!0;var e=new Pusher("09a7a9ef059d4f63aa24",{cluster:"ap2"});e.subscribe("my-channel").bind("section-event",()=>{u()})});const s=e=>{if(e&&e.length>0){const r=e.map(d=>({label:d==null?void 0:d.name,value:d.id}));return[{label:"All",value:"all"},...r]}return[{label:"All",value:"all"}]},t=v(()=>s(i.value));return h(()=>l.sectionId,e=>{u(e)}),(e,r)=>(g(),V("div",C,[a(U,{options:t.value,label:"Date Format *",placeholder:"Select student",isForm:!0,"onUpdate:modelValue":r[0]||(r[0]=d=>_("update:modelValue",d)),modelValue:c.modelValue},null,8,["options","modelValue"]),a($,{isSelect:!0})]))}};const R={class:"flex items-center justify-between mb-3"},F={class:"flex w-full gap-3"},L={style:{width:"100%"}},O={class:"w-full shadow-md rounded-xl bg-white p-3"},P={class:"grid grid-cols-12 gap-3"},q={class:"col-span-3"},E={class:"col-span-3"},K={class:"col-span-3"},z={class:"col-span-3"},G={class:"col-span-12"},H={class:"flex w-full gap-3 mt-3"},J={style:{width:"100%"}},Q={__name:"Transfer",props:{students:Object,student:Object},setup(c){const p=c,l=w({course_id:"",section_id:"",student_id:"",school:"",reason:""}),_=()=>{l.post(route("student.transfer.format"))},i=[{label:"S.N.",key:"sn"},{label:"Roll No.",key:"roll_no"},{label:"Student",key:"student"},{label:"Registration No.",key:"reg_number"},{label:"Reg. Date",key:"reg_date"},{label:"Course",key:"course"},{label:"Actions",key:"actions"}],u=v(()=>p.students.map((s,t)=>{var e;return{sn:t+1,roll_no:s==null?void 0:s.roll_number,student:s==null?void 0:s.name,reg_number:s==null?void 0:s.registration_number,reg_date:s==null?void 0:s.registration_date,course:((e=s==null?void 0:s.course)==null?void 0:e.name)??"N/A",actions:s.id}}));return(s,t)=>(g(),S(k,null,{sidebar:f(()=>[a(N)]),content:f(()=>[o("div",R,[a(D,{breadcrumbs:[{label:"Student Management"},{label:"Student Transfer"}]})]),o("div",F,[o("div",L,[o("div",O,[o("form",{onSubmit:t[5]||(t[5]=T(e=>_(),["prevent"]))},[o("div",P,[o("div",q,[a(A,{modelValue:n(l).course_id,"onUpdate:modelValue":t[0]||(t[0]=e=>n(l).course_id=e)},null,8,["modelValue"])]),o("div",E,[a(B,{modelValue:n(l).section_id,"onUpdate:modelValue":t[1]||(t[1]=e=>n(l).section_id=e),courseId:n(l).course_id},null,8,["modelValue","courseId"])]),o("div",K,[a(M,{modelValue:n(l).student_id,"onUpdate:modelValue":t[2]||(t[2]=e=>n(l).student_id=e),sectionId:n(l).section_id},null,8,["modelValue","sectionId"])]),o("div",z,[m(o("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>n(l).school=e),class:"w-full border border-gray-300 rounded px-3 py-[6.5px] focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Transfered School"},null,512),[[b,n(l).school]])]),o("div",G,[m(o("textarea",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>n(l).reason=e),class:"w-full border border-gray-300 rounded px-3 py-[6.5px] focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Reason"},null,512),[[b,n(l).reason]])]),t[6]||(t[6]=o("div",{class:"col-span-12 mt-1 bg-gray-100 p-3 rounded flex justify-end"},[o("button",{class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"}," Transfer Students ")],-1))])],32)])])]),o("div",H,[o("div",J,[a(I,{columns:i,data:u.value,exportTitle:"Student List",filters:s.filters,status:"group.update.status",edit:"student.edit",deleteUrl:"student.delete"},null,8,["data","filters"])])])]),_:1}))}},de=j(Q,[["__scopeId","data-v-387b6771"]]);export{de as default};
