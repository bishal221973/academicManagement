import{d as S,T as O,x as j,L as C,o as u,e as m,c as D,A as N,u as o,t as d,b as x,w as T,a as t,i as $,k as p,v as c,F,q as M}from"./app-57419d0c.js";import{_ as I}from"./Modal-98fe17cf.js";/* empty css                                                                   */import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{P as L}from"./AddStudent-2b33b2a0.js";import{B as q}from"./Breadcrumb-74eda663.js";import{T as W}from"./Table-df6073c3.js";import{_ as z}from"./AppLayout-8c26fc8d.js";import"./ExportPrint-1535eb17.js";/* empty css                                                                    *//* empty css                                                              */import"./printer-8ef20624.js";const G={key:1},H={class:"grid grid-cols-12 gap-3"},J={class:"col-span-12"},K={class:"text-red-600"},Q={class:"col-span-6"},R={class:"text-red-600"},X={class:"col-span-6"},Y={class:"text-red-600"},Z={class:"col-span-6"},ee={class:"text-red-600"},te={class:"col-span-6"},se={class:"text-red-600"},oe={class:"col-span-12"},le={class:"text-red-600"},re={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},ie={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},ne={__name:"AddVisitor",props:{isSelect:{type:Boolean,default:!1},visitor:{type:Object,default:null},title:String,bill:Object},setup(i){var v,y,_,g,h,k;const l=i,b=S(!1),n=()=>{b.value=!b.value},e=O({name:((v=l.visitor)==null?void 0:v.name)??"",phone:((y=l.visitor)==null?void 0:y.phone)??"",date:((_=l.visitor)==null?void 0:_.date)??"",in_time:((g=l.visitor)==null?void 0:g.in_time)??"",out_time:((h=l.visitor)==null?void 0:h.out_time)??"",purpose:((k=l.visitor)==null?void 0:k.purpose)??""}),f=()=>{var a;(a=l.visitor)!=null&&a.id?B():A()},A=()=>{e.post(route("visitor.store"),{onSuccess:()=>{e.reset(),n()}})},B=()=>{e.put(route("visitor.update",l.visitor),{onSuccess:()=>{e.reset(),n()}})},P=S([]);j(()=>{var a;U(),(a=l.visitor)!=null&&a.id&&n()});const U=async()=>{const a=await C.get(route("tax.all"));P.value=a.data.taxes};return(a,s)=>{var w;return u(),m(F,null,[i.isSelect?(u(),m("button",{key:0,onClick:n,class:"",type:"button"},[(u(),D(N(o(L))))])):(u(),m("div",G,[i.title?(u(),m("button",{key:0,onClick:n,type:"button",class:"text-[14px] hover:text-main/80 flex items-center gap-3 mb-5"},d(i.title),1)):(u(),m("button",{key:1,onClick:n,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Visitor"))])),x(I,{show:b.value,maxWidth:"xl",title:(w=i.visitor)!=null&&w.id?"Edit Visitor":"Add Visitor",onClose:n,selectedData:i.visitor},{default:T(()=>{var V;return[t("form",{onSubmit:$(f,["prevent"])},[t("div",H,[t("div",J,[s[6]||(s[6]=t("label",{class:"text-[14px]"},"Full Name *",-1)),p(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>o(e).name=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Full Name"},null,512),[[c,o(e).name]]),t("small",K,d(o(e).errors.name),1)]),t("div",Q,[s[7]||(s[7]=t("label",{class:"text-[14px]"},"Phone *",-1)),p(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=r=>o(e).phone=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Phone number"},null,512),[[c,o(e).phone]]),t("small",R,d(o(e).errors.phone),1)]),t("div",X,[s[8]||(s[8]=t("label",{class:"text-[14px]"},"Date *",-1)),p(t("input",{type:"date","onUpdate:modelValue":s[2]||(s[2]=r=>o(e).date=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Store Address"},null,512),[[c,o(e).date]]),t("small",Y,d(o(e).errors.date),1)]),t("div",Z,[s[9]||(s[9]=t("label",{class:"text-[14px]"},"In Time *",-1)),p(t("input",{type:"time","onUpdate:modelValue":s[3]||(s[3]=r=>o(e).in_time=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Store Address"},null,512),[[c,o(e).in_time]]),t("small",ee,d(o(e).errors.in_time),1)]),t("div",te,[s[10]||(s[10]=t("label",{class:"text-[14px]"},"Out Time *",-1)),p(t("input",{type:"time","onUpdate:modelValue":s[4]||(s[4]=r=>o(e).out_time=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Store Address"},null,512),[[c,o(e).out_time]]),t("small",se,d(o(e).errors.out_time),1)]),t("div",oe,[s[11]||(s[11]=t("label",{class:"text-[14px]"},"Purpose *",-1)),p(t("textarea",{"onUpdate:modelValue":s[5]||(s[5]=r=>o(e).purpose=r),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Purpose"},`
                `,512),[[c,o(e).purpose]]),t("small",le,d(o(e).errors.address),1)]),t("div",re,[t("button",ie,d((V=i.visitor)!=null&&V.id?"Update Visitor":"Save Visitor"),1)])])],32)]}),_:1},8,["show","title","selectedData"])],64)}}},ae=E(ne,[["__scopeId","data-v-092f9b8f"]]),de={class:"flex items-center justify-between mb-3"},ue={class:"flex w-full gap-3"},pe={style:{width:"100%"}},Ve={__name:"Visitor",props:{visitors:Object,visitor:Object},setup(i){const l=i,b=[{label:"S.N.",key:"sn"},{label:"Purpose",key:"purpose"},{label:"Name",key:"name"},{label:"Phone",key:"phone"},{label:"Date",key:"date"},{label:"In Time",key:"in_time"},{label:"Out Time",key:"out_time"},{label:"Actions",key:"actions"}],n=M(()=>l.visitors.map((e,f)=>({sn:f+1,purpose:e==null?void 0:e.purpose,name:e==null?void 0:e.name,phone:e==null?void 0:e.phone,date:e==null?void 0:e.date,in_time:e==null?void 0:e.in_time,out_time:e==null?void 0:e.out_time,actions:e.id})));return(e,f)=>(u(),D(z,null,{content:T(()=>[t("div",de,[x(q,{breadcrumbs:[{label:"Front Office"},{label:"Visitor Book"}]}),x(ae,{visitor:i.visitor},null,8,["visitor"])]),t("div",ue,[t("div",pe,[x(W,{columns:b,data:n.value,exportTitle:"Student List",filters:e.filters,edit:"visitor.edit",deleteUrl:"visitor.delete"},null,8,["data","filters"])])])]),_:1}))}};export{Ve as default};
