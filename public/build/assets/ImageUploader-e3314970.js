import{d as g,y as h,o as n,e as o,a as r,i as y,c as _,A as D,u as x,t as b}from"./app-57419d0c.js";import{I as k}from"./AddStudent-2b33b2a0.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";const F={key:0,class:"relative w-48 h-48"},w=["src"],C={key:1,class:"text-center text-gray-500"},j={class:"flex justify-center mb-3"},B={__name:"ImageUploader",props:{modelValue:[File,String,null],title:String},emits:["update:modelValue"],setup(s,{emit:c}){const d=s,i=c,l=g(null);h(()=>d.modelValue,e=>{if(!e)l.value=null;else if(typeof e=="string")l.value={file:null,url:e};else if(e instanceof File){const t=new FileReader;t.onload=a=>{l.value={file:e,url:a.target.result}},t.readAsDataURL(e)}},{immediate:!0});function u(e){if(!e.type.startsWith("image/"))return;const t=new FileReader;t.onload=a=>{l.value={file:e,url:a.target.result},i("update:modelValue",e)},t.readAsDataURL(e)}function f(e){e.preventDefault();const t=e.dataTransfer.files[0];t&&u(t)}function p(e){e.preventDefault()}function m(){l.value=null,i("update:modelValue",null)}function v(e){const t=e.target.files[0];t&&u(t)}return(e,t)=>(n(),o("div",null,[r("div",{class:"main-panel rounded-md p-3 cursor-pointer hover:border-blue-500 transition flex items-center justify-center",style:{height:"200px"},onDrop:f,onDragover:p,onClick:t[0]||(t[0]=a=>e.$refs.fileInput.click())},[l.value?(n(),o("div",F,[r("img",{src:l.value.url,class:"w-full h-full object-cover rounded-md border"},null,8,w),r("button",{type:"button",onClick:y(m,["stop"]),class:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs"},"Ã—")])):(n(),o("div",C,[r("div",j,[(n(),_(D(x(k))))]),r("p",null,b(s.title??"Drag & Drop an image here or click to browse"),1)])),r("input",{type:"file",ref:"fileInput",class:"hidden",accept:"image/*",onChange:v},null,544)],32)]))}},S=I(B,[["__scopeId","data-v-00c4b736"]]);export{S as I};
