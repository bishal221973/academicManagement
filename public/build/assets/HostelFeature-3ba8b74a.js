import{_ as A}from"./AppLayout-971202a1.js";import{d as k,T as S,y as w,L as D,o as c,e as _,c as j,z as C,u as r,t as b,b as f,w as T,a as s,i as P,k as h,v as m,F as U,q as V,K as H}from"./app-91f7f415.js";import{_ as N}from"./Modal-dd194025.js";import{P as E}from"./AddStudent-b7b549a9.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{B as I}from"./Breadcrumb-625ba3d5.js";import{T as L}from"./Table-100cf17c.js";import"./printer-74c671e9.js";import"./ExportPrint-ce2f8d71.js";/* empty css                                                                    *//* empty css                                                              */const q={key:1},z={class:"col-span-3"},K={class:"text-red-600"},R={class:"col-span-3"},W={class:"text-red-600"},G={class:"col-span-3"},J={class:"text-red-600"},Q={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},X={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},Y={__name:"AddFeature",props:{isSelect:{type:Boolean,default:!1},hostelFeature:{type:Object,default:null},title:String,bill:Object},setup(a){var y,x,g;const o=a,u=k(!1),n=()=>{u.value=!u.value},e=S({title:((y=o.hostelFeature)==null?void 0:y.title)??"",price:((x=o.hostelFeature)==null?void 0:x.price)??"",description:((g=o.hostelFeature)==null?void 0:g.description)??""}),t=()=>{var i;(i=o.hostelFeature)!=null&&i.id?$():d()},d=()=>{e.post(route("hostelFeature.store"),{onSuccess:()=>{e.reset(),n()}})},$=()=>{e.put(route("hostelFeature.update",o.hostelFeature),{onSuccess:()=>{e.reset(),n()}})},M=k([]);w(()=>{var i;O(),(i=o.hostelFeature)!=null&&i.id&&n()});const O=async()=>{const i=await D.get(route("tax.all"));M.value=i.data.taxes};return(i,l)=>{var v;return c(),_(U,null,[a.isSelect?(c(),_("button",{key:0,onClick:n,class:"",type:"button"},[(c(),j(C(r(E))))])):(c(),_("div",q,[a.title?(c(),_("button",{key:0,onClick:n,type:"button",class:"text-[14px] hover:text-main/80 flex items-center gap-3 mb-5"},b(a.title),1)):(c(),_("button",{key:1,onClick:n,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Facility"))])),f(N,{show:u.value,maxWidth:"sm",title:(v=a.hostelFeature)!=null&&v.id?"Edit Facility":"Add Facility",onClose:n,selectedData:a.hostelFeature},{default:T(()=>{var F;return[s("form",{onSubmit:P(t,["prevent"])},[s("div",z,[l[3]||(l[3]=s("label",{class:"text-[14px]"},"Title *",-1)),h(s("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=p=>r(e).title=p),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Title"},null,512),[[m,r(e).title]]),s("small",K,b(r(e).errors.title),1)]),s("div",R,[l[4]||(l[4]=s("label",{class:"text-[14px]"},"Price *",-1)),h(s("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=p=>r(e).price=p),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Price"},null,512),[[m,r(e).price]]),s("small",W,b(r(e).errors.price),1)]),s("div",G,[l[5]||(l[5]=s("label",{class:"text-[14px]"},"Description",-1)),h(s("textarea",{type:"text","onUpdate:modelValue":l[2]||(l[2]=p=>r(e).description=p),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Description"},null,512),[[m,r(e).description]]),s("small",J,b(r(e).errors.description),1)]),s("div",Q,[s("button",X,b((F=a.hostelFeature)!=null&&F.id?"Update":"Save"),1)])],32)]}),_:1},8,["show","title","selectedData"])],64)}}},Z=B(Y,[["__scopeId","data-v-dff8735a"]]);const ee={class:"flex items-center justify-between mb-3"},te={class:"flex w-full gap-3"},se={style:{width:"100%"}},oe={class:"grid grid-cols-12 gap-3"},le={class:"col-span-12"},ae={__name:"HostelFeature",props:{features:Object,room:Object,hostelStudents:Object,hostelStudent:Object,hostelFeature:Object},setup(a){const o=a,u=[{label:"S.N.",key:"sn"},{label:"Title",key:"title"},{label:"Price",key:"price"},{label:"Description",key:"description"},{label:"Status",key:"status"},{label:"Actions",key:"actions"}],n=V(()=>o.features.map((t,d)=>({sn:d+1,title:t==null?void 0:t.title,price:"Rs. "+(t==null?void 0:t.price),description:t==null?void 0:t.description,status:t==null?void 0:t.status,actions:t.id}))),e=S({hostel_id:"",course_id:"",student_id:"",room_id:"",price:"0",check_in_date:""});return w(()=>{var t,d;(t=o.hostelStudent)!=null&&t.id&&(e.hostel_id=o.hostelStudent.hostel_id,e.course_id=(d=o.hostelStudent.student)==null?void 0:d.course_id,e.student_id=o.hostelStudent.student_id,e.room_id=o.hostelStudent.room_id,e.price=o.hostelStudent.price,e.check_in_date=o.hostelStudent.check_in_date)}),H(()=>e.room_id,async()=>{const t=await D.get(route("room.show",e.room_id));e.price=t.data.room.price}),(t,d)=>(c(),j(A,null,{content:T(()=>[s("div",ee,[f(I,{breadcrumbs:[{label:"Hostel Management"},{label:"Booking Management"}]}),f(Z,{hostelFeature:a.hostelFeature},null,8,["hostelFeature"])]),s("div",te,[s("div",se,[s("div",oe,[s("div",le,[f(L,{columns:u,data:n.value,exportTitle:"Student List",filters:t.filters,status:"hostelFeature.update.status",edit:"hostelFeature.edit",deleteUrl:"hostelFeature.delete"},null,8,["data","filters"])])])])])]),_:1}))}},me=B(ae,[["__scopeId","data-v-b585beba"]]);export{me as default};
