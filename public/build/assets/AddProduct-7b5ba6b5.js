import{d as _,y as S,q as A,o as i,e as b,b as f,T as $,L as B,c as M,z as T,u as l,t as m,w as N,a as o,i as j,k as v,v as V,F as L}from"./app-91f7f415.js";import{_ as E}from"./Modal-dd194025.js";import{S as F,P as O}from"./AddStudent-b7b549a9.js";import{A as R}from"./AddProductCategory-8e264e42.js";import{A as q}from"./AddUnit-6a6b5810.js";/* empty css                                                                           *//* empty css                                                                   */import{_ as z}from"./_plugin-vue_export-helper-c27b6911.js";const I={class:"w-full border-[1px] border-gray-300 rounded-md flex px-3"},W={__name:"SelectProductCategory",props:{modelValue:[String,Number]},emits:["update:modelValue"],setup(n,{emit:r}){const p=r,d=_([]),e=async()=>{const t=await axios.get(route("product.category.get.all"));d.value=t.data.categories};S(()=>{e(),Pusher.logToConsole=!0;var t=new Pusher("09a7a9ef059d4f63aa24",{cluster:"ap2"});(t==null?void 0:t.subscribe("my-channel")).bind("product-category-event",()=>{e()})});const x=t=>t?t.map(a=>({label:a==null?void 0:a.name,value:a.id})):[],g=A(()=>x(d.value));return(t,a)=>(i(),b("div",I,[f(F,{options:g.value,label:"Date Format *",placeholder:"Select category",isForm:!0,"onUpdate:modelValue":a[0]||(a[0]=y=>p("update:modelValue",y)),modelValue:n.modelValue},null,8,["options","modelValue"]),f(R,{isSelect:!0})]))}},G={class:"w-full border-[1px] border-gray-300 rounded-md flex px-3"},H={__name:"SelectUnit",props:{modelValue:[String,Number]},emits:["update:modelValue"],setup(n,{emit:r}){const p=r,d=_([]),e=async()=>{const t=await axios.get(route("unit.get.all"));d.value=t.data.units};S(()=>{e(),Pusher.logToConsole=!0;var t=new Pusher("09a7a9ef059d4f63aa24",{cluster:"ap2"});(t==null?void 0:t.subscribe("my-channel")).bind("unit-event",()=>{e()})});const x=t=>t?t.map(a=>({label:a==null?void 0:a.name,value:a.id})):[],g=A(()=>x(d.value));return(t,a)=>(i(),b("div",G,[f(F,{options:g.value,label:"Date Format *",placeholder:"Select unit",isForm:!0,"onUpdate:modelValue":a[0]||(a[0]=y=>p("update:modelValue",y)),modelValue:n.modelValue},null,8,["options","modelValue"]),f(q,{isSelect:!0})]))}},J={key:1},K={class:"col-span-3"},Q={class:"text-red-600"},X={class:"col-span-3"},Y={class:"text-red-600"},Z={class:"col-span-3"},ee={class:"text-red-600"},te={class:"col-span-3"},oe={class:"text-red-600"},se={class:"col-span-3"},ae={class:"text-red-600"},le={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},re={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},de={__name:"AddProduct",props:{isSelect:{type:Boolean,default:!1},product:{type:Object,default:null},title:String,bill:Object},setup(n){var h,P,w,D,C;const r=n,p=_(!1),d=()=>{p.value=!p.value},e=$({product_code:((h=r.product)==null?void 0:h.product_code)??"",product:((P=r.product)==null?void 0:P.product)??"",product_category_id:((w=r.product)==null?void 0:w.product_category_id)??"",unit_id:((D=r.product)==null?void 0:D.unit_id)??"",rate:((C=r==null?void 0:r.product)==null?void 0:C.rate)??""}),x=()=>{var u;(u=r.product)!=null&&u.id?t():g()},g=()=>{e.post(route("product.store"),{onSuccess:()=>{e.reset(),d()}})},t=()=>{var u;e.put(route("product.update",(u=r.product)==null?void 0:u.id),{onSuccess:()=>{e.reset(),d()}})},a=_([]);S(()=>{var u;y(),(u=r.product)!=null&&u.id&&d()});const y=async()=>{const u=await B.get(route("tax.all"));a.value=u.data.taxes};return(u,s)=>{var k;return i(),b(L,null,[n.isSelect?(i(),b("button",{key:0,onClick:d,class:"",type:"button"},[(i(),M(T(l(O))))])):(i(),b("div",J,[n.title?(i(),b("button",{key:0,onClick:d,type:"button",class:"text-[14px] hover:text-main/80 flex items-center gap-3 mb-5"},m(n.title),1)):(i(),b("button",{key:1,onClick:d,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Product"))])),f(E,{show:p.value,maxWidth:"sm",title:(k=n.product)!=null&&k.id?"Edit Product":"Add Product",onClose:d,selectedData:u.unit},{default:N(()=>{var U;return[o("form",{onSubmit:j(x,["prevent"])},[o("div",K,[s[5]||(s[5]=o("label",{class:"text-[14px]"},"Product Category *",-1)),f(W,{modelValue:l(e).product_category_id,"onUpdate:modelValue":s[0]||(s[0]=c=>l(e).product_category_id=c)},null,8,["modelValue"]),o("small",Q,m(l(e).errors.product_category_id),1)]),o("div",X,[s[6]||(s[6]=o("label",{class:"text-[14px]"},"Unit *",-1)),f(H,{modelValue:l(e).unit_id,"onUpdate:modelValue":s[1]||(s[1]=c=>l(e).unit_id=c)},null,8,["modelValue"]),o("small",Y,m(l(e).errors.unit_id),1)]),o("div",Z,[s[7]||(s[7]=o("label",{class:"text-[14px]"},"Product Code *",-1)),v(o("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=c=>l(e).product_code=c),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product Code"},null,512),[[V,l(e).product_code]]),o("small",ee,m(l(e).errors.product_code),1)]),o("div",te,[s[8]||(s[8]=o("label",{class:"text-[14px]"},"Product *",-1)),v(o("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=c=>l(e).product=c),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Product"},null,512),[[V,l(e).product]]),o("small",oe,m(l(e).errors.product),1)]),o("div",se,[s[9]||(s[9]=o("label",{class:"text-[14px]"},"Sales Rate *",-1)),v(o("input",{type:"number",step:"0.01","onUpdate:modelValue":s[4]||(s[4]=c=>l(e).rate=c),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Rate"},null,512),[[V,l(e).rate]]),o("small",ae,m(l(e).errors.rate),1)]),o("div",le,[o("button",re,m((U=n.product)!=null&&U.id?"Update Product":"Save Product"),1)])],32)]}),_:1},8,["show","title","selectedData"])],64)}}},xe=z(de,[["__scopeId","data-v-59d0855b"]]);export{xe as A,W as _};
