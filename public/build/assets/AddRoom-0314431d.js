import{d as S,y as V,q as w,o as m,e as b,b as f,T as C,c as D,z as N,u as s,a as t,w as R,i as A,n as U,t as c,k as v,v as g,F as B}from"./app-91f7f415.js";import{_ as E}from"./Modal-dd194025.js";import{S as k,P as F}from"./AddStudent-b7b549a9.js";import{_ as M}from"./AddHostel-4abbb802.js";const P={class:"w-full border-[1px] border-gray-300 rounded-md flex px-3"},T={__name:"SelectHostel",props:{modelValue:[String,Number],course_id:[String,Number]},emits:["update:modelValue"],setup(i,{emit:l}){const p=l,r=S([]),e=async()=>{const n=await axios.get(route("hostel.all"));r.value=n.data.hostels};V(()=>{e(),Pusher.logToConsole=!0;var n=new Pusher("09a7a9ef059d4f63aa24",{cluster:"ap2"});n.subscribe("my-channel").bind("hostel-event",()=>{e()})});const y=n=>n?n.map(a=>({label:a==null?void 0:a.name,value:a.id})):[],x=w(()=>y(r.value));return(n,a)=>(m(),b("div",P,[f(k,{options:x.value,label:"Date Format *",placeholder:"Select hostel",isForm:!0,"onUpdate:modelValue":a[0]||(a[0]=d=>p("update:modelValue",d)),modelValue:i.modelValue},null,8,["options","modelValue"]),f(M,{isSelect:!0})]))}},$={class:"mb-3"},j={class:"text-red-600"},I={class:"mb-3"},z={class:"text-red-600"},H={class:"mb-3"},O={class:"text-red-600"},q={class:"mb-3"},L={class:"text-red-600"},W={class:"mb-3"},G={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},J={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},Z={__name:"AddRoom",props:{isSelect:{type:Boolean,default:!1},room:{type:Object,default:null},type:{type:String,default:"type0"},hostelId:String},setup(i){const l=i,p=S(!1),r=()=>{p.value=!p.value},e=C({hostel_id:(l==null?void 0:l.hostelId)??"",name:"",type:"",no_of_bed:"",price:"",remarks:""}),y=()=>{var d;(d=l.room)!=null&&d.id?n():x()};V(()=>{var d;(d=l.room)!=null&&d.id&&(r(),e.hostel_id=l.room.hostel_id,e.name=l.room.name,e.type=l.room.type,e.no_of_bed=l.room.no_of_bed,e.price=l.room.price,e.remarks=l.room.remarks)});const x=()=>{e.post(route("room.store"),{onSuccess:()=>{e.reset(),r()}})},n=()=>{e.put(route("room.update",l.room),{onSuccess:()=>{e.reset(),r()}})},a=[{label:"AC",value:"AC"},{label:"Non AC",value:"Non AC"}];return(d,o)=>{var h;return m(),b(B,null,[i.isSelect?(m(),b("button",{key:0,onClick:r,class:"",type:"button"},[(m(),D(N(s(F))))])):i.type=="type1"?(m(),b("button",{key:1,onClick:r,class:"w-full text-[12px] px-3 py-3 border-gray-300 mb-1 rounded btn-border text-left flex justify-center border border-dashed"},[...o[5]||(o[5]=[t("i",{class:"fa fa-plus text-gray-500"},null,-1)])])):(m(),b("button",{key:2,onClick:r,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Room")),f(E,{show:p.value,maxWidth:"sm",title:(h=i.room)!=null&&h.id?"Edit Room":"Add Room",onClose:r,selectedData:d.hostel},{default:R(()=>{var _;return[t("form",{onSubmit:A(y,["prevent"])},[t("div",$,[o[6]||(o[6]=t("label",{class:"text-[14px]"},"Hostel Name *",-1)),f(T,{modelValue:s(e).hostel_id,"onUpdate:modelValue":o[0]||(o[0]=u=>s(e).hostel_id=u),class:U(i.hostelId?"pointer-events-none opacity-50":"")},null,8,["modelValue","class"]),t("small",j,c(s(e).errors.hostel_id),1)]),t("div",I,[o[7]||(o[7]=t("label",{class:"text-[14px]"},"Room Name *",-1)),v(t("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=u=>s(e).name=u),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter room name"},null,512),[[g,s(e).name]]),t("small",z,c(s(e).errors.name),1)]),t("div",H,[o[8]||(o[8]=t("label",{class:"text-[14px]"},"Room Type",-1)),f(k,{modelValue:s(e).type,"onUpdate:modelValue":o[2]||(o[2]=u=>s(e).type=u),options:a,label:"Date Format *",placeholder:"Select room type"},null,8,["modelValue"]),t("small",O,c(s(e).errors.type),1)]),t("div",q,[o[9]||(o[9]=t("label",{class:"text-[14px]"},"Price *",-1)),v(t("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=u=>s(e).price=u),step:"0.01",class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter price"},null,512),[[g,s(e).price]]),t("small",L,c(s(e).errors.price),1)]),t("div",W,[o[10]||(o[10]=t("label",{class:"text-[14px]"},"Description",-1)),v(t("textarea",{type:"text","onUpdate:modelValue":o[4]||(o[4]=u=>s(e).remarks=u),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description"},null,512),[[g,s(e).remarks]])]),t("div",G,[t("button",J,c((_=i.room)!=null&&_.id?"Update Room":"Save Room"),1)])],32)]}),_:1},8,["show","title","selectedData"])],64)}}};export{Z as _,T as a};
