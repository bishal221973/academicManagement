import{_ as k}from"./AppLayout-8c26fc8d.js";import{d as w,T as h,x as D,o as r,e as m,c as v,A as C,u as o,b as i,w as g,a as t,i as V,t as f,k as j,v as _,F as B,q as $}from"./app-57419d0c.js";import{_ as M}from"./Modal-98fe17cf.js";import{P as U,c as A}from"./AddStudent-2b33b2a0.js";import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{B as T}from"./Breadcrumb-74eda663.js";import{T as N}from"./Table-df6073c3.js";import"./printer-8ef20624.js";import"./ExportPrint-1535eb17.js";/* empty css                                                                    *//* empty css                                                              */const O={class:"mb-3"},F={class:"text-red-600"},P={class:"mb-3"},q={class:"text-red-600"},I={class:"mb-3"},L={class:"text-red-600"},W={class:"mb-3"},z={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},G={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},H={__name:"AddSubject",props:{isSelect:{type:Boolean,default:!1},subject:{type:Object,default:null}},setup(a){const l=a,d=w(!1),c=()=>{d.value=!d.value},e=h({course_id:"",name:"",code:"",description:""}),b=()=>{var n;(n=l.subject)!=null&&n.id?S():p()};D(()=>{var n;(n=l.subject)!=null&&n.id&&(c(),e.course_id=l.subject.course_id,e.name=l.subject.name,e.code=l.subject.code,e.description=l.subject.description)});const p=()=>{e.post(route("subject.store"),{onSuccess:()=>{e.reset(),c()}})},S=()=>{e.put(route("subject.update",l.subject),{onSuccess:()=>{e.reset(),c()}})};return(n,s)=>{var x;return r(),m(B,null,[a.isSelect?(r(),m("button",{key:0,onClick:c,class:"",type:"button"},[(r(),v(C(o(U))))])):(r(),m("button",{key:1,onClick:c,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Subject")),i(M,{show:d.value,maxWidth:"sm",title:(x=a.subject)!=null&&x.id?"Edit Subject":"Add Subject",onClose:c,selectedData:a.subject},{default:g(()=>{var y;return[t("form",{onSubmit:V(b,["prevent"])},[t("div",O,[s[4]||(s[4]=t("label",{class:"text-[14px]"},"Course *",-1)),i(A,{modelValue:o(e).course_id,"onUpdate:modelValue":s[0]||(s[0]=u=>o(e).course_id=u)},null,8,["modelValue"]),t("small",F,f(o(e).errors.course_id),1)]),t("div",P,[s[5]||(s[5]=t("label",{class:"text-[14px]"},"Subject Name *",-1)),j(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=u=>o(e).name=u),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter subject name"},null,512),[[_,o(e).name]]),t("small",q,f(o(e).errors.name),1)]),t("div",I,[s[6]||(s[6]=t("label",{class:"text-[14px]"},"Subject Code *",-1)),j(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=u=>o(e).code=u),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter code"},null,512),[[_,o(e).code]]),t("small",L,f(o(e).errors.code),1)]),t("div",W,[s[7]||(s[7]=t("label",{class:"text-[14px]"},"Description",-1)),j(t("textarea",{type:"text","onUpdate:modelValue":s[3]||(s[3]=u=>o(e).description=u),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description"},null,512),[[_,o(e).description]])]),t("div",z,[t("button",G,f((y=a.subject)!=null&&y.id?"Update Subject":"Save Subject"),1)])],32)]}),_:1},8,["show","title","selectedData"])],64)}}};const J={class:"flex items-center justify-between mb-3"},K={class:"flex w-full gap-3"},Q={style:{width:"100%"}},R={__name:"Subject",props:{settings:Object,subjects:Object,subject:Object},setup(a){const l=a,d=[{label:"S.N.",key:"sn"},{label:"Code",key:"code"},{label:"Course",key:"course"},{label:"Subject",key:"subject"},{label:"Description",key:"description"},{label:"Status",key:"status"},{label:"Actions",key:"actions"}],c=$(()=>l.subjects.map((e,b)=>{var p;return{sn:b+1,code:e==null?void 0:e.code,course:(p=e==null?void 0:e.course)==null?void 0:p.name,subject:e==null?void 0:e.name,description:e==null?void 0:e.description,status:e==null?void 0:e.status,actions:e.id}}));return(e,b)=>(r(),v(k,null,{content:g(()=>[t("div",J,[i(T,{breadcrumbs:[{label:"Subject Management"}]}),i(H,{subject:a.subject},null,8,["subject"])]),t("div",K,[t("div",Q,[i(N,{columns:d,data:c.value,exportTitle:"Student List",filters:e.filters,status:"subject.update.status",edit:"subject.edit",deleteUrl:"subject.delete"},null,8,["data","filters"])])])]),_:1}))}},ne=E(R,[["__scopeId","data-v-c683f0ba"]]);export{ne as default};
