import{_ as C}from"./Modal-dd194025.js";import{d as w,T as F,y as N,L as R,o as d,e as b,c as P,z as $,u as o,t as p,b as h,w as S,a as t,i as A,k as c,v as u,F as M,q as O}from"./app-91f7f415.js";/* empty css                                                                    *//* empty css                                                                          */import{_ as E}from"./_plugin-vue_export-helper-c27b6911.js";import{P as L}from"./AddStudent-b7b549a9.js";/* empty css                                                                   */import{B as q}from"./Breadcrumb-625ba3d5.js";import{T as z}from"./Table-100cf17c.js";import{_ as I}from"./AppLayout-971202a1.js";import"./ExportPrint-ce2f8d71.js";/* empty css                                                                    *//* empty css                                                              */import"./printer-74c671e9.js";const W={key:1},G={class:"grid grid-cols-12 gap-3"},H={class:"col-span-6"},J={class:"text-red-600"},K={class:"col-span-6"},Q={class:"text-red-600"},X={class:"col-span-4"},Y={class:"text-red-600"},Z={class:"col-span-4"},ee={class:"text-red-600"},te={class:"col-span-4"},se={class:"text-red-600"},oe={class:"col-span-12"},le={class:"text-red-600"},ae={class:"col-span-12 mt-4 bg-gray-100 p-3 rounded flex justify-end"},re={class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",type:"submit"},ne={__name:"AddPostalDispatch",props:{isSelect:{type:Boolean,default:!1},postalDispatch:{type:Object,default:null},title:String,bill:Object},setup(r){var _,x,y,D,g,k;const l=r,f=w(!1),n=()=>{f.value=!f.value},e=F({to_title:((_=l.postalDispatch)==null?void 0:_.to_title)??"",from_title:((x=l.postalDispatch)==null?void 0:x.from_title)??"",reference:((y=l.postalDispatch)==null?void 0:y.reference)??"",phone_number:((D=l.postalDispatch)==null?void 0:D.phone_number)??"",date:((g=l.postalDispatch)==null?void 0:g.date)??"",remarks:((k=l.postalDispatch)==null?void 0:k.remarks)??""}),m=()=>{var i;(i=l.postalDispatch)!=null&&i.id?V():U()},U=()=>{e.post(route("postalDispatch.store"),{onSuccess:()=>{e.to_title="",e.from_title="",e.reference="",e.phone_number="",e.date="",e.remarks="",n()}})},V=()=>{e.put(route("postalDispatch.update",l.postalDispatch),{onSuccess:()=>{e.to_title="",e.from_title="",e.reference="",e.phone_number="",e.date="",e.remarks="",n()}})},B=w([]);N(()=>{var i;j(),(i=l.postalDispatch)!=null&&i.id&&n()});const j=async()=>{const i=await R.get(route("tax.all"));B.value=i.data.taxes};return(i,s)=>{var v;return d(),b(M,null,[r.isSelect?(d(),b("button",{key:0,onClick:n,class:"",type:"button"},[(d(),P($(o(L))))])):(d(),b("div",W,[r.title?(d(),b("button",{key:0,onClick:n,type:"button",class:"text-[14px] hover:text-main/80 flex items-center gap-3 mb-5"},p(r.title),1)):(d(),b("button",{key:1,onClick:n,type:"button",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Add Postal Dispatch"))])),h(C,{show:f.value,maxWidth:"xl",title:(v=r.postalDispatch)!=null&&v.id?"Edit Postal Dispatch":"Add Postal Dispatch",onClose:n,selectedData:r.postalDispatch},{default:S(()=>{var T;return[t("form",{onSubmit:A(m,["prevent"])},[t("div",G,[t("div",H,[s[6]||(s[6]=t("label",{class:"text-[14px]"},"To Title *",-1)),c(t("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o(e).to_title=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"To Title"},null,512),[[u,o(e).to_title]]),t("small",J,p(o(e).errors.to_title),1)]),t("div",K,[s[7]||(s[7]=t("label",{class:"text-[14px]"},"From Title *",-1)),c(t("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=a=>o(e).from_title=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"From Title"},null,512),[[u,o(e).from_title]]),t("small",Q,p(o(e).errors.from_title),1)]),t("div",X,[s[8]||(s[8]=t("label",{class:"text-[14px]"},"Reference *",-1)),c(t("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=a=>o(e).reference=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Reference"},null,512),[[u,o(e).reference]]),t("small",Y,p(o(e).errors.reference),1)]),t("div",Z,[s[9]||(s[9]=t("label",{class:"text-[14px]"},"To Phone Number *",-1)),c(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=a=>o(e).phone_number=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"To Phone Number"},null,512),[[u,o(e).phone_number]]),t("small",ee,p(o(e).errors.phone_number),1)]),t("div",te,[s[10]||(s[10]=t("label",{class:"text-[14px]"},"Date*",-1)),c(t("input",{type:"date","onUpdate:modelValue":s[4]||(s[4]=a=>o(e).date=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"To Phone Number"},null,512),[[u,o(e).date]]),t("small",se,p(o(e).errors.date),1)]),t("div",oe,[s[11]||(s[11]=t("label",{class:"text-[14px]"},"Remarks",-1)),c(t("textarea",{"onUpdate:modelValue":s[5]||(s[5]=a=>o(e).remarks=a),class:"w-full border border-gray-300 rounded px-3 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Remarks"},`
                `,512),[[u,o(e).remarks]]),t("small",le,p(o(e).errors.address),1)]),t("div",ae,[t("button",re,p((T=r.postalDispatch)!=null&&T.id?"Update Postal Dispatch":"Save Postal Dispatch"),1)])])],32)]}),_:1},8,["show","title","selectedData"])],64)}}},ie=E(ne,[["__scopeId","data-v-2ca61bdd"]]),pe={class:"flex items-center justify-between mb-3"},de={class:"flex w-full gap-3"},ce={style:{width:"100%"}},Pe={__name:"PostalDispatch",props:{postalDispatchs:Object,postalDispatch:Object},setup(r){const l=r,f=[{label:"S.N.",key:"sn"},{label:"To Title",key:"to_title"},{label:"To Phone",key:"phone_number"},{label:"Reference",key:"reference"},{label:"From Title",key:"from_title"},{label:"Date",key:"date"},{label:"Remarks",key:"remarks"},{label:"Actions",key:"actions"}],n=O(()=>l.postalDispatchs.map((e,m)=>({sn:m+1,to_title:e==null?void 0:e.to_title,phone_number:e==null?void 0:e.phone_number,reference:e==null?void 0:e.reference,from_title:e==null?void 0:e.from_title,remarks:e==null?void 0:e.remarks,date:e==null?void 0:e.date,actions:e.id})));return(e,m)=>(d(),P(I,null,{content:S(()=>[t("div",pe,[h(q,{breadcrumbs:[{label:"Front Office"},{label:"Postal Dispatch"}]}),h(ie,{postalDispatch:r.postalDispatch},null,8,["postalDispatch"])]),t("div",de,[t("div",ce,[h(z,{columns:f,data:n.value,exportTitle:"Student List",filters:e.filters,edit:"postalDispatch.edit",deleteUrl:"postalDispatch.delete"},null,8,["data","filters"])])])]),_:1}))}};export{Pe as default};
